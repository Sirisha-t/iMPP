/**
	iMPP: integrated Metagenomic Protein Predictor
	
	For any bugs or problems found, please contact us at
	- sirisha.thippabhotla@ku.edu 
**/
params.threads = 16
params.tmpdir = "$PWD/intermediate"
params.genecaller = "fgs"
params.help = false


/* 	Containers */
/*--------------------------------*/
process {

withName: convertFastq{
	container = "staphb/seqtk:latest"
}

withName:callMPD{
	container = "biocontainers/prodigal:v1-2.6.3-4-deb_cv1"
}

withName:callFGS{
	container = "tsirisha/fraggenescan:latest"
}

withName:callSGAAssembly{
	container= "ljdursi/sga-docker"
}

withName:callSPAdesAssembly{
	container= "staphb/spades:latest"
}

withName:peptideAssembly_R1{
	container = "soedinglab/plass:latest"
}

withName:peptideAssembly_R2{
	container = "soedinglab/plass:latest"
}

withName:alignSixFrametoAssembly{
	container = "biocorecrg/diamond:latest"
}

withName:callBWA{
	container = "biocontainers/bwa:v0.7.17_cv1"
}

}


/** Setting up profiles **/

profiles{
// Enables Docker (please load with another config file)
  docker {
    docker.enabled = true
    // Avoid this error:
    // WARNING: Your kernel does not support swap limit capabilities or the cgroup is not mounted. Memory limited without swap.
    // Testing this in nf-core after discussion here https://github.com/nf-core/tools/pull/351
    // once this is established and works well, nextflow might implement this behaviour as new default.
    docker.runOptions = '-u \$(id -u):\$(id -g)'
	// If you still get the error above, please decomment the following line (thanks to Flavia Flaviani; https://github.com/flacchy)
	// docker.runOptions = "--memory-swap '-1'"
  }
  test{
	  includeConfig 'conf/test.config'

  }
  base{
	  includeConfig 'conf/base.config'
  }
}

executor{
	name = 'local'
	cpus = 16
}

trace {
    enabled = false
}

timeline {
  enabled = false
}

report {
  enabled = false
}

dag {
  enabled = false
}

